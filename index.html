<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Guessing Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f0f0;
        }
        #movieImage {
            max-width: 300px;
            max-height: 300px;
            margin-bottom: 20px;
        }
        button {
            margin: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>Guess the Movie</h1>
    <img id="movieImage" src="/api/placeholder/300/300" alt="Movie Image">
    <p id="result"></p>
    <button id="startListening">Start Guessing</button>
    <button id="nextQuestion">Next Question</button>

    <script>
        const movies = [
            { name: "The Godfather", image: "./i1.png" },
            { name: "Pulp Fiction", image: "./i2.jpeg" },
            { name: "The Dark Knight", image: "./i3.jpeg" }
        ];

        let currentMovie;
        const movieImage = document.getElementById('movieImage');
        const resultElement = document.getElementById('result');
        const startListeningButton = document.getElementById('startListening');
        const nextQuestionButton = document.getElementById('nextQuestion');

        function loadNextMovie() {
            currentMovie = movies[Math.floor(Math.random() * movies.length)];
            movieImage.src = currentMovie.image;
            resultElement.textContent = '';
        }

        function startListening() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'en-US';
            recognition.start();

            recognition.onresult = (event) => {
                const guess = event.results[0][0].transcript.toLowerCase();
                if (guess === currentMovie.name.toLowerCase()) {
                    resultElement.textContent = 'Correct!';
                } else {
                    resultElement.textContent = `Sorry, the correct answer was "${currentMovie.name}".`;
                }
            };

            recognition.onerror = (event) => {
                console.error('Speech recognition error', event.error);
                resultElement.textContent = 'Error in speech recognition. Please try again.';
            };
        }

        startListeningButton.addEventListener('click', startListening);
        nextQuestionButton.addEventListener('click', loadNextMovie);

        loadNextMovie();
    </script>
</body>
</html>
